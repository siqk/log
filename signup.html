<!DOCTYPE html>
<html>
<head>
  <title>Create Account</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Inter', sans-serif; }

    body {
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background: url('https://i.pinimg.com/1200x/ed/11/6e/ed116e818eef98d3b034444eabbbd835.jpg') no-repeat center center/cover;
    }

    .card {
      width:380px;
      padding:40px;
      border-radius:20px;
      backdrop-filter: blur(20px);
      background: rgba(255,255,255,0.1);
      border:1px solid rgba(255,255,255,0.2);
      box-shadow:0 10px 40px rgba(0,0,0,0.4);
      color:white;
      animation: fadeIn 0.8s ease;
    }

    h2 {
      margin-bottom:20px;
      font-weight:600;
      text-align:center;
    }

    input {
      width:100%;
      padding:12px;
      margin:10px 0;
      border:none;
      border-radius:10px;
      background: rgba(255,255,255,0.2);
      color:white;
      outline:none;
    }

    input::placeholder { color: rgba(255,255,255,0.7); }

    button {
      width:100%;
      padding:12px;
      margin-top:15px;
      border:none;
      border-radius:10px;
      background: linear-gradient(135deg,#6e8efb,#a777e3);
      color:white;
      font-weight:600;
      cursor:pointer;
      transition:0.3s;
    }

    button:hover {
      transform:scale(1.05);
      box-shadow:0 5px 20px rgba(0,0,0,0.5);
    }

    p {
      margin-top:15px;
      text-align:center;
      font-size:14px;
    }

    a { color:#fff; font-weight:600; text-decoration:none; }

    @keyframes fadeIn {
      from { opacity:0; transform:translateY(20px); }
      to { opacity:1; transform:translateY(0); }
    }
  </style>
</head>

<body>
  <div class="card">
    <h2>Create Account</h2>

    <input type="text" id="username" placeholder="Username">
    <input type="text" id="full_name" placeholder="Full Name">
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">

    <button onclick="signUp()">Sign Up</button>

    <p>Already have an account? <a href="login.html">Login</a></p>
  </div>

<script>
const supabase = window.supabase.createClient(
  "https://opixidygpndbfuisjkrk.supabase.co",
  "sb_publishable_N6RdTgjgUHQbdtvPX9uPqA_VTraUegI"
);

async function signUp() {
  const email = email.value;
  const password = password.value;
  const username = document.getElementById("username").value;
  const full_name = document.getElementById("full_name").value;

  const { data, error } = await supabase.auth.signUp({ email, password });

  if (error) return alert(error.message);

  await supabase.from("profiles").insert([{
    id: data.user.id,
    username,
    full_name,
    avatar_url: "",
    bio: ""
  }]);

  alert("Signup successful!");
  window.location.href = "login.html";
}
</script>
</body>
</html>
