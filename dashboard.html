<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter',sans-serif; }

    body {
      min-height:100vh;
      background:url('https://i.pinimg.com/1200x/ed/11/6e/ed116e818eef98d3b034444eabbbd835.jpg') no-repeat center/cover;
      display:flex;
      justify-content:center;
      align-items:center;
      color:white;
    }

    .card {
      width:450px;
      padding:40px;
      border-radius:20px;
      backdrop-filter:blur(20px);
      background:rgba(255,255,255,0.1);
      border:1px solid rgba(255,255,255,0.2);
      box-shadow:0 10px 40px rgba(0,0,0,0.4);
      animation:fadeIn 0.8s ease;
    }

    h2 { margin-bottom:20px; text-align:center; }

    p { margin:10px 0; }

    button {
      width:100%;
      padding:12px;
      margin-top:20px;
      border:none;
      border-radius:10px;
      background:linear-gradient(135deg,#ff4b2b,#ff416c);
      color:white;
      font-weight:600;
      cursor:pointer;
      transition:0.3s;
    }

    button:hover { transform:scale(1.05); }

    @keyframes fadeIn {
      from { opacity:0; transform:translateY(20px); }
      to { opacity:1; transform:translateY(0); }
    }
  </style>
</head>

<body>
<div class="card">
  <h2>Your Dashboard</h2>
  <div id="profile"></div>
  <button onclick="logout()">Logout</button>
</div>

<script>
const supabase = window.supabase.createClient(
  "https://opixidygpndbfuisjkrk.supabase.co",
  "sb_publishable_N6RdTgjgUHQbdtvPX9uPqA_VTraUegI"
);

async function loadProfile() {
  const { data: { user } } = await supabase.auth.getUser();

  if (!user) return window.location.href = "login.html";

  const { data } = await supabase
    .from("profiles")
    .select("*")
    .eq("id", user.id)
    .single();

  document.getElementById("profile").innerHTML = `
    <p><strong>Email:</strong> ${user.email}</p>
    <p><strong>Username:</strong> ${data.username}</p>
    <p><strong>Full Name:</strong> ${data.full_name}</p>
    <p><strong>Bio:</strong> ${data.bio}</p>
  `;
}

async function logout() {
  await supabase.auth.signOut();
  window.location.href = "login.html";
}

loadProfile();
</script>
</body>
</html>
